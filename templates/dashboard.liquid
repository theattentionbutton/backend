{% block extra_head %}
<link rel="stylesheet" href="/dashboard.css">
{% endblock %}
{% layout "base.liquid", heading:heading, title:title %}
{% block content %}
<details open>
    <summary class="invert">Your rooms</summary>
    <div class="rooms">
        <div class="room create-room invert">
            <a href='/create-room' aria-role="button" class="iconoir-plus"></a>
        </div>
        {% for room in rooms %}
        <div class="room">
            <div class="room-title invert">{{ room.title }}</div>
        </div>
        <div class="room-meta">
            <div><span class="room-member-count invert">{{ room.count }}</span> members</div>
            <div><a href="/rooms/{{ room.uuid }}">Manage</a></div>
        </div>
        {% endfor %}
    </div>
    {% if invites.size > 0 %}
    <h3>Invites</h3>
    <div class="invites">
        {% for invite in invites %}
        <form method="post" action="/invites/{{ invite.id }}">
            <div class="invite-text">
                <strong>{{ invite.from }}</strong> invited you to <strong>{{ invite.roomName }}</strong>.
            </div>

            <div class="invite-actions">
                <button type="submit" value="accept" name="action" class="action invert">
                    <i class="iconoir-check action"></i>
                    <div class="hidden">Accept</div>
                </button>
                <button type="submit" value="reject" name="action" class="action invert">
                    <i class="iconoir-xmark action"></i>
                    <div class="hidden">Reject</div>
                </button>
            </div>
        </form>
        {% endfor %}
    </div>
    {% endif %}
</details>

<details open>
    <summary class="invert">Manage your account</summary>
    <p>
        Logged in as <strong>user@example.com</strong>. <a href="/logout">Sign out</a>
    </p>
    <h3>Change your password</h3>
    <form class="change-pw" method="post" action="/change-password">
        <div class="form-group">
            <label for="old-pw">Current password</label>
            <input type="password" name="old-pw" id="old-pw">
        </div>
        <div class="form-group">
            <label for="new-pw">New password</label>
            <input type="password" name="new-pw" id="new-pw">
        </div>
        <div class="form-group">
            <label for="confirm-new-pw">Confirm new password</label>
            <input type="password" name="confirm-new-pw" id="confirm-new-pw">
        </div>
        <div class="form-group submit-group">
            <input type="submit" value="Set">
        </div>
    </form>
</details>
{% endblock %}